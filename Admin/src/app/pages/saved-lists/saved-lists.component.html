<div class="container h-[90vh]">
    <div class="my-4 mx-2 flex justify-end gap-3">
        <button _ngcontent-ng-c2511129804="" type="button" class="px-3 py-2 text-xs font-medium text-center text-white bg-red-700 rounded-lg hover:bg-red-800 focus:outline-none dark:bg-red-600 dark:hover:bg-red-700 uppercase" (click)="onClickResetFilter()" *ngIf="isFilterQueryApplyed"> Reset Filter </button>
        <button _ngcontent-ng-c2511129804="" type="button" class="px-3 py-2 text-xs font-medium text-center text-white bg-green-700 rounded-lg hover:bg-green-800 focus:outline-none dark:bg-green-600 dark:hover:bg-green-700 uppercase" (click)="onClickApplyFilter()"> Apply Filter </button>
        <a _ngcontent-ng-c2511129804="" type="button" class="px-3 py-2 text-xs font-medium text-center text-white bg-green-700 rounded-lg hover:bg-green-800 focus:outline-none dark:bg-green-600 dark:hover:bg-green-700 uppercase" [routerLink]="'/savedItem'"> Add New </a>
    </div>
    <div class="overflow-x-auto rounded-lg border shadow-sm">
        <table class="min-w-full divide-y divide-gray-200" *ngIf="dataSet.length">
            <!-- Table Head -->
            <thead class="bg-gray-50 hidden md:table-header-group">
                <tr>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase w-1/6">Title</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase w-1/6">Description</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase w-1/6">City</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase w-1/6">Created By</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase w-1/6">Created On</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase w-1/6">Actions</th>
                </tr>
            </thead>
            
            <!-- Table Body -->
            <tbody class="bg-white divide-y divide-gray-200">
                <!-- Row 1 -->
                <tr class="hover:bg-gray-50 block md:table-row" *ngFor="let data of dataSet">
                    <td class="px-4 py-3 block md:table-cell w-1/6" data-cell="Title">
                        <span class="md:hidden font-medium">Title</span>
                        <p class="line-clamp-4 md:line-clamp-2">{{data.SavedItemDetails.title}}</p>
                    </td>
                    <td class="px-4 py-3 block md:table-cell w-1/6" data-cell="Description">
                        <span class="md:hidden font-medium">Description</span>
                        <p class="line-clamp-4 md:line-clamp-2">{{data.SavedItemDetails.description}}</p>
                    </td>
                    <td class="px-4 py-3 block md:table-cell w-1/6" data-cell="City">
                        <span class="md:hidden font-medium">City</span>
                        <!-- <span class="px-2 inline-block text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                            {{data.SavedItemDetails.city}}
                        </span> -->
                        {{data.SavedItemDetails.city}}
                    </td>
                    <td class="px-4 py-3 block md:table-cell w-1/6" data-cell="Created By">
                        <span class="md:hidden font-medium">Created By</span>
                        {{data.publishedBy}}
                    </td>
                    <td class="px-4 py-3 block md:table-cell w-1/6" data-cell="Created On">
                        <span class="md:hidden font-medium">Created On</span>
                        {{data.publishedOn | date:'medium' }}
                    </td>
                    <td class="px-4 py-3 block md:table-cell w-1/6" data-cell="Actions">
                        <span class="md:hidden font-medium">Actions</span>
                        <button class="text-indigo-600 hover:text-indigo-900" (click)="onEditItem(data)">Edit</button>
                        <button class="text-red-600 hover:text-red-900 ml-2" (click)="onDeleteSavedForm(data)">Delete</button>
                    </td>
                </tr>
            </tbody>
        </table>

        <div class="h-[50vh] m-auto text-xl flex items-center justify-center w-full" *ngIf="!dataSet.length">
            <span>
                No Saved Data Available For Now
            </span>
        </div>
    </div>
</div>


<ng-container *ngIf="isFilterActive">
    <div class="fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center z-50">
        <div class="bg-white p-6 rounded-lg shadow-lg container">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-xl">Use Filter</h2>
                <button class="text-gray-500 hover:text-gray-700" (click)="false" aria-label="Close Modal"
                    (click)="isFilterActive = false">
                    âœ•
                </button>
            </div>
            <div class="flex flex-col items-center gap-3 w-full">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 w-full">
                    <!-- Student Name -->
                     <ng-container *ngFor="let item of filterConfig">
                        <div>
                            <label class="block text-sm font-medium text-gray-700">{{item.text}}</label>
                            <input type="text" placeholder="Enter {{item.text}} To Filter" class="w-full mt-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" [(ngModel)]="filterModel[item.name]">
                        </div>
                     </ng-container>
                    </div>
            </div>
            <div class="my-5 flex gap-3 justify-end">
                <button _ngcontent-ng-c2511129804="" type="button" class="px-3 py-2 text-xs font-medium text-center text-white bg-green-700 rounded-lg hover:bg-green-800 focus:outline-none dark:bg-green-600 dark:hover:bg-green-700 uppercase" (click)="onClickSubmitFilter()"> Submit Filter </button>
            </div>
        </div>
    </div>
</ng-container>